# ネットワーク・インフラ基盤

### TCP（Transmission Control Protocol／ティーシーピー）
インターネット通信の基本プロトコル。<br>
データを相手に確実に届けるための仕組み（信頼性重視）。<br>
メールやWebページの表示でデータの欠落が起きないのはTCPのおかげ。<br>

---

### SSH（Secure Shell／エスエスエイチ）
サーバーに安全にリモート接続するための暗号化技術とプロトコル。<br>
通信内容や認証情報が暗号化されるため、盗聴やなりすましのリスクが低くなる。<br>
自宅から会社サーバーにログインしてファイル操作やコマンド実行を行うときに使う。<br>

---

### LAN（Local Area Network）
ランと呼ぶ。限られた範囲（家庭やオフィス）内で接続されたコンピュータやデバイスのネットワークのこと。<br>高速な通信が可能で、リソースの共有（プリンタやファイルなど）が容易。<br>
家庭LANや社内LANなど表現することが多い。<br>
社内LANはインターネットから隔離されていることが多く、セキュリティが高い。<br>

---

### IPアドレス（アイピーアドレス）
パソコンやルータに設定される住所の様な物。<br>
**パブリック（グローバル）IP**と**プライベートIP**の2種類がある。<br>

**パブリック（グローバル）IP:** インターネット上で使える世界で唯一のIPアドレス。<br>
例: `8.8.8.8`（Google DNS）、`203.0.113.1`など<br>

**プライベートIP:** 内部ネットワークでのみ使用。自由に設定可能で重複OK。<br>
範囲: `192.168.x.x`、`10.x.x.x`、`172.16.x.x〜172.31.x.x`<br>
例: `192.168.1.100`（家庭内ルーター）、`10.0.0.5`（企業内サーバー）<br>

**見分け方:** 上記プライベートIP範囲以外はすべてパブリックIP。<br>

---

### NAT（Network Address Translation／ナット）
Network Address Translation の略。<br>
内部ネットワークのプライベートIPを外部のグローバルIPに変換してやり取りする仕組みの総称。<br>
社内LANの複数端末が1つのグローバルIPで外部と通信する場面で使われる。<br>

---

### PAT（Port Address Translation／パット）
Port Address Translation の略。NATの一種。<br>
複数の内部端末が1つのグローバルIPを共有する際に、端末ごとに異なるポート番号を割り当てて通信を区別する仕組み。<br>
家庭用ルーターでよく使われる。<br>
同じルーターから複数端末が同時にWeb接続しても、戻りの通信を正しい端末に振り分けられる。<br>

---

### Internet Gateway（インターネットゲートウェイ）
内部ネットワーク（LAN）とインターネットをつなぐ「出入り口」の役割を果たす装置やサービス。<br>
オフィスビルの「正面玄関」のようなもので、内部と外部の通信を仲介する。<br>

**別の呼び方:** ルーター、ゲートウェイ、デフォルトゲートウェイ<br>

**何がInternet Gatewayにあたるか:**<br>
- **家庭**: Wi-Fiルーター（バッファロー、NECなど）<br>
- **企業**: 企業用ルーター、ファイアウォール<br>
- **クラウド**: AWS Internet Gateway、Azure vNet Gateway<br>

**主な機能:**<br>
- IPアドレス変換（プライベート ↔ パブリック）<br>
- 通信の振り分けとルーティング<br>
- セキュリティ制御（不正アクセスの防止）<br>

家でスマホがインターネットにつながるのも、会社のPCが外部サイトを見れるのも、すべてInternet Gatewayがあるから。<br>

---

### ファイアウォール（Firewall）
ネットワーク通信を監視・制御してセキュリティを保つ仕組み。<br>
建物の「防火壁」が語源で、悪意ある通信をブロックして内部を守る。<br>

**ファイアウォールの定義:**<br>
以下の機能を持つものを「ファイアウォール」と呼ぶ：<br>
- 通信の許可・拒否を制御<br>
- 送信元・送信先・ポート番号での判断<br>
- ログ記録機能<br>

**商品・サービス例（各社が製造）:**<br>
- **家庭**: Wi-Fiルーター内蔵機能（バッファロー、ASUS、TP-Link）<br>
- **企業**: FortiGate（Fortinet）、SonicWall、Palo Alto（Palo Alto Networks）<br>
- **ソフトウェア**: Windows Defender ファイアウォール、iptables（Linux）<br>
- **クラウド**: AWS Security Groups、Azure Network Security Groups<br>

**種類:**<br>
- **ハードウェア型**: 専用機器（企業向け）<br>
- **ソフトウェア型**: PC・サーバーにインストール<br>
- **統合型**: ルーターに内蔵（家庭・小規模オフィス）<br>

「冷蔵庫」や「エアコン」と同じように、各社が独自製品を作っている技術分野。<br>
ちなみに家庭用ルーターのファイアウォール機能も製品によっては意外とできることが多い。<br>
例えば、子供のスマホやゲーム機を特定時間だけインターネット禁止にしたり、YouTubeなど特定サイトをブロックしたりできる。<br>

---

### FTP（File Transfer Protocol／エフティーピー）
昔からあるファイル転送プロトコル。<br>
サーバーとクライアント間でファイルをやり取りできるが、通信が暗号化されないためパスワードやデータが盗聴されやすい。<br>
現在は安全な代替手段が推奨される。<br>

**仕組み:**<br>
- **送信側**: FTPクライアント（FileZillaなど）でファイルを送信<br>
- **受信側**: OSにFTPサーバーソフト（vsftpd、ProFTPDなど）をインストールして受信環境を構築<br>

**設定に必要なもの:**<br>
- FTPサーバーソフトのインストール・設定<br>
- 送信側が接続するためのユーザーアカウント作成<br>
- ファイアウォール設定（ポート21の開放）<br>

古いWebホスティングでファイルをアップロードする際に使われていたが、セキュリティ上の問題で利用は減っている。<br>

---

### SFTP（SSH File Transfer Protocol／エスエフティーピー）
SSHを使ってファイルを暗号化して安全に転送するプロトコル。<br>
FTPの安全版と考えればよい。<br>
パスワードやファイル内容が暗号化されるため、現代ではこちらが推奨される。<br>
安全にサーバーへファイルをアップロードする際に使う。<br>

---

### DMZ（DeMilitarized Zone／ディーエムゼット／非武装地帯）
内部ネットワーク（社内LAN）と外部ネットワーク（インターネット）の間に設置される**中間的なネットワーク領域**。<br>
外部に公開する必要があるサーバー（Webサーバー、メールサーバーなど）を配置し、内部ネットワークを守る。<br>

**なぜDMZが必要か:**<br>
- 外部公開サーバーを社内LANに直接置くと、攻撃された際に社内全体が危険にさらされる<br>
- DMZに置けば、攻撃されても被害を限定できる（社内LANへの侵入を防ぐ）<br>

**DMZの構成イメージ:**<br>
```
インターネット
    ↓
ファイアウォール①
    ↓
  【DMZ】 ← 外部公開サーバー（Webサーバー、メールサーバー）
    ↓
ファイアウォール②
    ↓
社内LAN ← 重要な業務サーバー、PC（外部から直接アクセス不可）
```

**DMZに置かれるサーバー:**<br>
- Webサーバー（公開サイト）<br>
- メールサーバー（外部とメール送受信）<br>
- DNSサーバー（外部向け）<br>
- VPNゲートウェイ<br>

**DMZに置かない（社内LANに置く）サーバー:**<br>
- データベースサーバー（顧客情報など重要データ）<br>
- ファイルサーバー（社内文書）<br>
- 業務システムサーバー<br>

**セキュリティの考え方:**<br>
- DMZのサーバーは「攻撃される可能性がある」前提で運用<br>
- DMZから社内LANへの通信は厳しく制限<br>
- 二重のファイアウォールで多層防御（Defense in Depth）<br>

**現場での呼び方:**<br>
「WebサーバーはDMZに配置します」= 外部公開用の中間ネットワークに設置<br>
「DBサーバーは内部に置きます」= 社内LAN（DMZの内側）に設置<br>

軍事用語の「非武装地帯」から名付けられた、企業ネットワークの標準的なセキュリティ設計。<br>
